<div class="container">
  <div class="title">
    <h1>Shop Stalls</h1>
    <p>Administra f√°cilmente tu negocio con Shop Stalls &#174;</p>
  </div>
  <div class="register_form">
    <h2>Crear Usuario</h2>
    <form method="post">
      <mat-form-field appearance="outline" hideRequiredMarker>
        <mat-label>Usuario</mat-label>
        <input matInput required [formControl]="name">
        <mat-error *ngIf="name.invalid">{{getErrorMessage()}}</mat-error>
      </mat-form-field>

      <app-password-form [password]="password"></app-password-form>
      
      <app-email-form [email]="email"></app-email-form>

      <mat-form-field appearance="fill" hideRequiredMarker>
        <mat-label>Rol</mat-label>
        <mat-select [formControl]="role" required>
          <mat-option *ngFor="let role of roles" [value]="role.value">
            {{role.name}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="role.invalid">{{getErrorMessage()}}</mat-error>
      </mat-form-field>

      <button mat-raised-button type="submit" (click)="createUser()"
        [disabled]="name.invalid ||password.invalid ||email.invalid || role.invalid">Registrar</button>
    </form>
  </div>
  <img src="https://editorialdahbar.com/wp-content/plugins/bbpowerpack/assets/images/spinner.gif" alt="spinner"
        class="spinner" *ngIf="waiting">
  <p *ngIf="response" class="message">
    {{response}}
  </p>
</div>